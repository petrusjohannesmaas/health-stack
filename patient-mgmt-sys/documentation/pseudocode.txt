System: PatientManagementSystem

Modules:
  - PatientRegistry
  - MedicalHistory
  - AppointmentScheduler
  - BillingProcessor

### MODULE: PatientRegistry

Function registerPatient(input):
  Validate input (name, ID, DOB, contactInfo)
  Generate unique PatientID
  Create patient record in database
  Return success + PatientID

Function getPatientProfile(patientID):
  Fetch patient data from database
  Return patient details

Function updatePatientInfo(patientID, updatedFields):
  Verify authorization
  Update record with new details
  Return success

### MODULE: MedicalHistory

Function addMedicalRecord(patientID, record):
  Validate record (date, diagnosis, treatments, notes)
  Append to patient's medical history
  Return success

Function fetchMedicalHistory(patientID, filterOptions):
  Retrieve records (e.g. by date, condition, doctor)
  Return list of history entries

### MODULE: AppointmentScheduler

Function scheduleAppointment(patientID, dateTime, doctorID, department):
  Check doctor availability
  Create appointment entry
  Notify patient and staff
  Return confirmation

Function getUpcomingAppointments(patientID):
  Fetch all future appointments
  Return list

Function cancelAppointment(appointmentID, reason):
  Verify cancellation policy
  Update status in database
  Notify relevant parties
  Return confirmation

### MODULE: BillingProcessor

Function generateInvoice(patientID, servicesRendered):
  Calculate fees
  Apply insurance rules if applicable
  Generate and store invoice
  Return invoiceID + payment instructions

Function fetchBillingHistory(patientID):
  Retrieve all invoices + payment statuses
  Return list

Function markAsPaid(invoiceID, paymentDetails):
  Verify payment
  Update invoice status
  Generate receipt
  Return success